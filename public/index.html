<!DOCTYPE html>
<html>
	<head>
        <title>hello world</title>
        <script src='./javascripts/jquery.min.js'> </script>
	</head>

	<body>

            <p>
                <input class='name' type='text' name='name'>
            </p>
            <p>
                <button id="submit">提交</button>
            </p>
   	</body>

    <script>
        
        // init
        $(function(){
            
            $('#submit').click(function(){
                
                sendData();
            })

            // start test1
            test();
        });

        // sendData
        
        function sendData(){
            $.ajax({
                        
                    data   :{'name':'test'},
                    url    :'/question',
                    type   :'POST',
                    cache  :false,
                    success:function(data){console.log(data)},
                    error  :function(err){console.log(err)}
                })

        }
        // 测试高并发会不会死机
        
        function test(){
            
            let limit = 100000;                  //10万个请求，每200毫秒请求一次
            let count = 0;
            
            var times = setInterval(function(){
               
                count++;
                if(count < limit){
                    
                    sendData();
                }else{
                    
                    clearInterval(times);
                }
                
            },200)
        }
        // 测试高并发会不会速度慢下来
    </script>
</html>
